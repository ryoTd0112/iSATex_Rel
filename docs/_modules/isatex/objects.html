

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>isatex.objects &mdash; iSATex 0.0.5 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> iSATex
          

          
          </a>

          
            
            
              <div class="version">
                0.0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">iSATex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">isatex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../history.html">History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">iSATex</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>isatex.objects</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for isatex.objects</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">basename</span><span class="p">,</span> <span class="n">dirname</span><span class="p">,</span> <span class="n">isdir</span><span class="p">,</span> <span class="n">join</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">final</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">log</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">zeros</span>
<span class="kn">from</span> <span class="nn">wx</span> <span class="kn">import</span> <span class="n">FileSelectorDefaultWildcardStr</span>

<span class="kn">from</span> <span class="nn">.core</span> <span class="kn">import</span> <span class="n">RestrictedStorableListBase</span><span class="p">,</span> <span class="n">StorableObject</span>
<span class="kn">from</span> <span class="nn">.util</span> <span class="kn">import</span> <span class="n">GetFileName</span><span class="p">,</span> <span class="n">HasValidElement</span>

<span class="c1"># default value is not storable</span>


<div class="viewcode-block" id="ArgumentContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase">[docs]</a><span class="k">class</span> <span class="nc">ArgumentContainerBase</span><span class="p">(</span><span class="n">StorableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class is for connecting the argument and the UI.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>
<span class="sd">        :param default: default value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>

<div class="viewcode-block" id="ArgumentContainerBase.GetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.GetValue">[docs]</a>    <span class="k">def</span> <span class="nf">GetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return contain value. If contain invalid value, return default value. This value is deepcopied.</span>

<span class="sd">        :return: contain value</span>
<span class="sd">        :rtype: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">HasValidValue</span><span class="p">()</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">__default</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></div>

<div class="viewcode-block" id="ArgumentContainerBase.SetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.SetValue">[docs]</a>    <span class="k">def</span> <span class="nf">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function manage to convert value to a valid type as much as possible,</span>
<span class="sd">        even if it can&#39;t, it will accept the value.</span>

<span class="sd">        :param v: Set value</span>
<span class="sd">        :type v: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__value</span> <span class="o">=</span> <span class="n">v</span></div>

<div class="viewcode-block" id="ArgumentContainerBase.GetDefault"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.GetDefault">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">GetDefault</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get default value.</span>

<span class="sd">        :rtype: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__default</span><span class="p">)</span></div>

<div class="viewcode-block" id="ArgumentContainerBase.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the given value is valid. This method is intended to be overridden.</span>

<span class="sd">        :type value: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="ArgumentContainerBase.HasValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.HasValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">HasValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the contain value is valid.</span>

<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="p">)</span></div>

    <span class="nd">@final</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__sub__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__mul__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__matmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__matmul__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__truediv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__floordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__floordiv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__mod__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__pow__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__lshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__lshift__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rshift__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__and__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__and__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__xor__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__xor__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__or__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__radd__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rsub__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rmul__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rmatmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rmatmul__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rtruediv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rfloordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rfloordiv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rmod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rmod__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rpow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rpow__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rlshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rlshift__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rrshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rrshift__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rand__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rand__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__rxor__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__rxor__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ror__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__ror__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__iadd__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__isub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__isub__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__imul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__imul__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__imatmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__imatmul__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__itruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__itruediv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ifloordiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__ifloordiv__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__imod__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__imod__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ipow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__ipow__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ilshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__ilshift__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__irshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__irshift__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iand__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__iand__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ixor__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__ixor__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__ior__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__ior__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__neg__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__pos__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__pos__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__abs__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__abs__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__invert__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__complex__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__complex__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__int__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__float__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__index__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__index__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__round__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__round__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__trunc__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="n">__trunc__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__floor__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="n">__floor__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ceil__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="n">__ceil__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__le__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

<div class="viewcode-block" id="ArgumentContainerBase.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send contained value as save data.</span>

<span class="sd">        :rtype: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span></div>

<div class="viewcode-block" id="ArgumentContainerBase.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ArgumentContainerBase.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data.</span>

<span class="sd">        :type save_data: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">save_data</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="BoundedArgumentContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase">[docs]</a><span class="k">class</span> <span class="nc">BoundedArgumentContainerBase</span><span class="p">(</span><span class="n">ArgumentContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contains numbers and their bounds. This value displayed by Entry.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">min_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constractor</span>
<span class="sd">        :param default: default value</span>
<span class="sd">        :type default: Union[int, float, None]</span>
<span class="sd">        :param min: minimum value, should be lesser than or equal to &quot;max&quot;, if None convert infinity, defaults to None</span>
<span class="sd">        :type min: Union[int, float, None], optional</span>
<span class="sd">        :param max: maxmum value, should be greater than or equal to &quot;min&quot; if None convert  negative infinity, defaults to None</span>
<span class="sd">        :type max: Union[int, float, None], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__min</span> <span class="o">=</span> <span class="o">-</span> <span class="n">inf</span> <span class="k">if</span> <span class="n">min_</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">min_</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__max</span> <span class="o">=</span> <span class="n">inf</span> <span class="k">if</span> <span class="n">max_</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">max_</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__min</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;min_&quot; should be instance of &quot;int&quot; or &quot;float&quot;.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__max</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;max_&quot; should be instance of &quot;int&quot; or &quot;float&quot;.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;int&quot; or &quot;float&quot; or &quot;None&quot;.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__min</span> <span class="o">&lt;=</span> <span class="n">default</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Please set valid bound. &quot;default&quot; value of </span><span class="si">{</span><span class="n">default</span><span class="si">}</span><span class="s1"> is not in bounds of </span><span class="si">{</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">__min</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>

<div class="viewcode-block" id="BoundedArgumentContainerBase.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the value is within the specified bounds.</span>

<span class="sd">        :param value: Value to be contained.</span>
<span class="sd">        :type value: Union[int, float, None]</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__min</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="BoundedArgumentContainerBase.GetMin"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase.GetMin">[docs]</a>    <span class="k">def</span> <span class="nf">GetMin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the specified minimum value.</span>

<span class="sd">        :rtype: Union[int, float]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__min</span></div>

<div class="viewcode-block" id="BoundedArgumentContainerBase.GetMax"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase.GetMax">[docs]</a>    <span class="k">def</span> <span class="nf">GetMax</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the specified maximum value.</span>

<span class="sd">        :rtype: Union[int, float]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max</span></div>

<div class="viewcode-block" id="BoundedArgumentContainerBase.GetBounds"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase.GetBounds">[docs]</a>    <span class="k">def</span> <span class="nf">GetBounds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Get the specified bounds.</span>

<span class="sd">        :rtype: Union[int, float]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__min</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max</span></div>

<div class="viewcode-block" id="BoundedArgumentContainerBase.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Send contained value and bounds as save data.</span>

<span class="sd">        :rtype: Tuple[Union[int, float], Union[int, float], Union[int, float]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">__min</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max</span><span class="p">,)</span></div>

<div class="viewcode-block" id="BoundedArgumentContainerBase.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.BoundedArgumentContainerBase.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data.</span>

<span class="sd">        :param save_data: (value, min, max,)</span>
<span class="sd">        :type save_data: Tuple[Union[int, float], Union[int, float], Union[int, float]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">save_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__min</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__max</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="OptionalIntContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.OptionalIntContainer">[docs]</a><span class="k">class</span> <span class="nc">OptionalIntContainer</span><span class="p">(</span><span class="n">BoundedArgumentContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contains Int or None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">min_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;int&quot; or &quot;None&quot;.&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">)</span>

<div class="viewcode-block" id="OptionalIntContainer.SetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.OptionalIntContainer.SetValue">[docs]</a>    <span class="k">def</span> <span class="nf">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert as much as possible to int or None and save the value.</span>

<span class="sd">        :type v: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></div>

<div class="viewcode-block" id="OptionalIntContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.OptionalIntContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of int or None and within the specified bounds.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">IsValidValue</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="IntContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IntContainer">[docs]</a><span class="k">class</span> <span class="nc">IntContainer</span><span class="p">(</span><span class="n">OptionalIntContainer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain int.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">min_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constractor</span>

<span class="sd">        :param default: default value, defaults to 0</span>
<span class="sd">        :type default: int, optional</span>
<span class="sd">        :param min_: minimum value, should be lesser than or equal to &quot;max&quot;, if None convert infinity, defaults to None</span>
<span class="sd">        :type min_: Union[int, float, None], optional</span>
<span class="sd">        :param max_: maxmum value, should be greater than or equal to &quot;min&quot;, if None convert negative infinity, defaults to None</span>
<span class="sd">        :type max_: Union[int, float, None], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;int&quot;&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">)</span>

<div class="viewcode-block" id="IntContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IntContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of int and within the specified bounds.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">IsValidValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="OptionalFloatContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.OptionalFloatContainer">[docs]</a><span class="k">class</span> <span class="nc">OptionalFloatContainer</span><span class="p">(</span><span class="n">BoundedArgumentContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain float, like &quot;OptionalIntContainer&quot; class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">min_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param default: default value, defaults to 0.0</span>
<span class="sd">        :type default: Optional[float], optional</span>
<span class="sd">        :param min_: minimum value, should be lesser than &quot;max&quot;, defaults to None</span>
<span class="sd">        :type min_: Optional[int], optional</span>
<span class="sd">        :param max_: maximam value, should be greater than &quot;min&quot;, defaults to None</span>
<span class="sd">        :type max_: Optional[int], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">default</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;float&quot; or &quot;None&quot;.&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">)</span>

<div class="viewcode-block" id="OptionalFloatContainer.SetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.OptionalFloatContainer.SetValue">[docs]</a>    <span class="k">def</span> <span class="nf">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert as much as possible to float or None and save the value.</span>

<span class="sd">        :type v: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></div>

<div class="viewcode-block" id="OptionalFloatContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.OptionalFloatContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of float or None and within the specified bounds.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">IsValidValue</span><span class="p">(</span><span class="n">value</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="FloatContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FloatContainer">[docs]</a><span class="k">class</span> <span class="nc">FloatContainer</span><span class="p">(</span><span class="n">OptionalFloatContainer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain float.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">min_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param default: default value, defaults to 0</span>
<span class="sd">        :type default: float, optional</span>
<span class="sd">        :param min: minimum value, should be lesser than or equal to &quot;max&quot;, if None convert infinity, defaults to None</span>
<span class="sd">        :type min: Union[int, float, None], optional</span>
<span class="sd">        :param max: maxmum value, should be greater than or equal to &quot;min&quot;, if None convert negative infinity, defaults to None</span>
<span class="sd">        :type max: Union[int, float, None], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;float&quot;&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">min_</span><span class="p">,</span> <span class="n">max_</span><span class="p">)</span>

<div class="viewcode-block" id="FloatContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FloatContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of float and within the specified bounds.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">IsValidValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="StrContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.StrContainer">[docs]</a><span class="k">class</span> <span class="nc">StrContainer</span><span class="p">(</span><span class="n">ArgumentContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain str.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param default: default value, defaults to &#39;&#39;</span>
<span class="sd">        :type default: str, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;str&quot;&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>

<div class="viewcode-block" id="StrContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.StrContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of int or None and within the specified bounds.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span></div></div>


<div class="viewcode-block" id="ChoiceContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ChoiceContainer">[docs]</a><span class="k">class</span> <span class="nc">ChoiceContainer</span><span class="p">(</span><span class="n">ArgumentContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain choice. This value displayed by ComboBox.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor.</span>

<span class="sd">        :param default: default value, defaults to &#39;&#39;</span>
<span class="sd">        :type default: str, optional</span>
<span class="sd">        :param choices: list of options, if &quot;choices&quot; is None, [default] will be used, default to None</span>
<span class="sd">        :type choices: [type], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;default&quot; should be instance of &quot;int&quot; or &quot;float&quot;, &quot;str&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">default</span><span class="p">]</span> <span class="k">if</span> <span class="n">choices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">choices</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>

<div class="viewcode-block" id="ChoiceContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ChoiceContainer.IsValidValue">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns True if &quot;value&quot; is included in the &quot;choices&quot;.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__choices</span></div>

<div class="viewcode-block" id="ChoiceContainer.GetChoices"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ChoiceContainer.GetChoices">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">GetChoices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get choices.</span>

<span class="sd">        :rtype: Tuple[Union[int, float, str], ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__choices</span></div>

<div class="viewcode-block" id="ChoiceContainer.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ChoiceContainer.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="o">...</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Send contained value and choices as save data.</span>

<span class="sd">        :return: [description]</span>
<span class="sd">        :rtype: Tuple[Union[int, float, str], Tuple[Union[int, float, str], ...]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetChoices</span><span class="p">(),)</span></div>

<div class="viewcode-block" id="ChoiceContainer.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ChoiceContainer.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="o">...</span><span class="p">]]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data.</span>

<span class="sd">        :param save_data: (value, choices)</span>
<span class="sd">        :type save_data: Tuple[Union[int, float, str], Tuple[Union[int, float, str], ...]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">save_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__choices</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="IterableArgumentContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase">[docs]</a><span class="k">class</span> <span class="nc">IterableArgumentContainerBase</span><span class="p">(</span><span class="n">ArgumentContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain iterable</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg_container_list</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ArgumentContainerBase</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param arg_container_list: List of instance of argcontainer, defaults to None</span>
<span class="sd">        :type arg_container_list: Union[List[ArgumentContainerBase], None], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">arg_container_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">arg_container_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">([</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">arg_container</span><span class="p">,</span> <span class="n">ArgumentContainerBase</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg_container</span> <span class="ow">in</span> <span class="n">arg_container_list</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Element of &quot;arg_container&quot; should be instance of &quot;ArgumentContainerBase&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span> <span class="o">=</span> <span class="n">arg_container_list</span>

        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>

<div class="viewcode-block" id="IterableArgumentContainerBase.GetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase.GetValue">[docs]</a>    <span class="k">def</span> <span class="nf">GetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get value.</span>

<span class="sd">        :rtype: list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">arg_container</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="k">for</span> <span class="n">arg_container</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">]</span></div>

<div class="viewcode-block" id="IterableArgumentContainerBase.SetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase.SetValue">[docs]</a>    <span class="k">def</span> <span class="nf">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;Convert as much as possible to iterable and save the value. If it cannot be converted, it will save the list with empty str as an element instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">,</span> <span class="ne">SyntaxError</span><span class="p">,</span> <span class="ne">NameError</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
                <span class="n">c</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">c</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="IterableArgumentContainerBase.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns True if &quot;value&quot; is valid value. This method is intended to be overridden.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="IterableArgumentContainerBase.HasValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase.HasValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">HasValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the contain value is valid.</span>

<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="c1"># for c in self.arg_container_list:</span>
        <span class="c1">#     if not c.HasValidValue():</span>
        <span class="c1">#         return False</span>

        <span class="c1"># if not self.IsValidValue(value):</span>
        <span class="c1">#     return False</span>

        <span class="c1"># return True</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">HasValidValue</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">])</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">IsValidValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

    <span class="nd">@final</span>
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>

    <span class="nd">@final</span>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="nd">@final</span>
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">)</span>

<div class="viewcode-block" id="IterableArgumentContainerBase.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ArgumentContainerBase</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Send contained list of ArgumentContainerBase class as save data.</span>

<span class="sd">        :rtype: Tuple[ArgumentContainerBase, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span></div>

<div class="viewcode-block" id="IterableArgumentContainerBase.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.IterableArgumentContainerBase.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ArgumentContainerBase</span><span class="p">,</span> <span class="o">...</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data.</span>

<span class="sd">        :type save_data: Tuple[ArgumentContainerBase, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span> <span class="o">=</span> <span class="n">save_data</span></div></div>


<div class="viewcode-block" id="ListArgumentContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ListArgumentContainer">[docs]</a><span class="k">class</span> <span class="nc">ListArgumentContainer</span><span class="p">(</span><span class="n">IterableArgumentContainerBase</span><span class="p">):</span>
<div class="viewcode-block" id="ListArgumentContainer.GetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ListArgumentContainer.GetValue">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">GetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return contain value. If contain invalid value, return default value. This value is deepcopied.</span>

<span class="sd">        :rtype: list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span></div>

<div class="viewcode-block" id="ListArgumentContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.ListArgumentContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of list class.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">List</span><span class="p">)</span></div>

    <span class="nd">@final</span>
    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ArgumentContainerBase</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_list</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>


<div class="viewcode-block" id="TupleArgumentContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.TupleArgumentContainer">[docs]</a><span class="k">class</span> <span class="nc">TupleArgumentContainer</span><span class="p">(</span><span class="n">IterableArgumentContainerBase</span><span class="p">):</span>
<div class="viewcode-block" id="TupleArgumentContainer.GetValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.TupleArgumentContainer.GetValue">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">GetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return contain value. If contain invalid value, return default value. This value is deepcopied.</span>

<span class="sd">        :return: [description]</span>
<span class="sd">        :rtype: Tuple</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span></div>

<div class="viewcode-block" id="TupleArgumentContainer.IsValidValue"><a class="viewcode-back" href="../../isatex.html#isatex.objects.TupleArgumentContainer.IsValidValue">[docs]</a>    <span class="k">def</span> <span class="nf">IsValidValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, if &quot;value&quot; is instance of tuple class.</span>

<span class="sd">        :return: Whether the valid value.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="FunctionContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase">[docs]</a><span class="k">class</span> <span class="nc">FunctionContainerBase</span><span class="p">(</span><span class="n">StorableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class is for connecting the function and the UI.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg_container_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ArgumentContainerBase</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default container</span>

<span class="sd">        :param arg_container_dict: The argument dictionary, key, is used as the name of the argument, defaults to None</span>
<span class="sd">        :type arg_container_dict: Dict[str, ArgumentContainerBase], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">arg_container_dict</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="n">arg_container_dict</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">arg_container_dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">arg_container_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ArgumentContainerBase</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="FunctionContainerBase.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.Function">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Describe the body of the function. This method is intended to be overridden.</span>

<span class="sd">        :raises NotImplementedError: Error sent if the method is not overridden.</span>
<span class="sd">        :rtype: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="FunctionContainerBase.GetArgumentNames"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.GetArgumentNames">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgumentNames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get tuple of argument names</span>

<span class="sd">        :rtype: Tuple[str, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerDict</span><span class="p">())</span></div>

<div class="viewcode-block" id="FunctionContainerBase.GetArgumentContainerList"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.GetArgumentContainerList">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgumentContainerList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ArgumentContainerBase</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get tuple of argument containers</span>

<span class="sd">        :rtype: Tuple[ArgumentContainerBase, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerDict</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">())</span></div>

<div class="viewcode-block" id="FunctionContainerBase.GetArgumentContainerDict"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.GetArgumentContainerDict">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgumentContainerDict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ArgumentContainerBase</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get argument container dict.</span>

<span class="sd">        :rtype: Dict[str, ArgumentContainerBase]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_dict</span></div>

<div class="viewcode-block" id="FunctionContainerBase.GetArgs"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.GetArgs">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the value of the argument.</span>

<span class="sd">        :rtype: Tuple[Any, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()])</span></div>

<div class="viewcode-block" id="FunctionContainerBase.SetArgs"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.SetArgs">[docs]</a>    <span class="k">def</span> <span class="nf">SetArgs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Any</span><span class="p">]]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the value of the argument.</span>
<span class="sd">        If the number of &quot;args&quot; is less, the value will be reflected as much as possible.</span>
<span class="sd">        If the number of &quot;args&quot; is greater, the excess will be ignored.</span>

<span class="sd">        :param args: Argument values</span>
<span class="sd">        :type args: Union[Dict[str, Any], Iterable[Any, ...]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">arg_container_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerDict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                <span class="n">arg_container_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span><span class="p">,</span> <span class="n">container</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()):</span>
                <span class="n">container</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></div>

<div class="viewcode-block" id="FunctionContainerBase.HasValidArguments"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.HasValidArguments">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">HasValidArguments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return True, If the arguments have the correct value</span>

<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">HasValidValue</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()])</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">IsGoodCondition</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="FunctionContainerBase.IsGoodCondition"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.IsGoodCondition">[docs]</a>    <span class="k">def</span> <span class="nf">IsGoodCondition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns true if the argument satisfies the condition.</span>
<span class="sd">        Unlike HasValidArguments, this method checks the conditions between arguments, such as whether they are large or small.</span>
<span class="sd">        This method is intended to be overridden.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="FunctionContainerBase.GetHelpText"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.GetHelpText">[docs]</a>    <span class="k">def</span> <span class="nf">GetHelpText</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns text to help understand the &quot;Function&quot;.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;Sorry, but there was no help available.&#39;</span></div>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())</span><span class="si">}</span><span class="s1">&#39;</span>

<div class="viewcode-block" id="FunctionContainerBase.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Send contained argument as save data.</span>

<span class="sd">        :rtype: Tuple[Any, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentNames</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())}</span></div>

<div class="viewcode-block" id="FunctionContainerBase.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.FunctionContainerBase.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data</span>

<span class="sd">        :type save_data: Tuple[Any, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">save_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_dict</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">arg_container_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PeakFunctionContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerBase">[docs]</a><span class="k">class</span> <span class="nc">PeakFunctionContainerBase</span><span class="p">(</span><span class="n">FunctionContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain function of peak</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="PeakFunctionContainerBase.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerBase.Function">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Describe the formula for calculating the peak.</span>

<span class="sd">        :param x: xdata of spectral data</span>
<span class="sd">        :type x: ndrray</span>
<span class="sd">        :param args: The peak arguments. The specified value will be passed. If you want to know more details, please refer the &quot;__init__&quot; document for how to specify them.</span>
<span class="sd">        :type args: Tuple</span>
<span class="sd">        :raises NotImplementedError: Error sent if the method is not overridden.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="PeakFunctionContainerBase.Execution"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerBase.Execution">[docs]</a>    <span class="k">def</span> <span class="nf">Execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; &quot;Function&quot; wrapper</span>

<span class="sd">        :param x: xdata of spectral data</span>
<span class="sd">        :type x: Iterable</span>
<span class="sd">        :return: Value of the peak for the given x</span>
<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Amp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Amplitude</span>

<span class="sd">        :type: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>

    <span class="nd">@Amp</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Amp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Ctr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Center position of peak</span>

<span class="sd">        :type: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>

    <span class="nd">@Ctr</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Ctr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Wid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Width of peak, like half maximum full width (HMFW).</span>

<span class="sd">        :type: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>

    <span class="nd">@Wid</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Wid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

<div class="viewcode-block" id="PeakFunctionContainerBase.SetArgs"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerBase.SetArgs">[docs]</a>    <span class="k">def</span> <span class="nf">SetArgs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set arguments(amp, ctr, wid, etc...) of peak.amp and wid will be converted to 0 or more.</span>

<span class="sd">        :param args: argument of peak.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">SetArgs</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PeakFunctionContainerBase.GetTex"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerBase.GetTex">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">GetTex</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get statement of function following the Tex syntax.</span>

<span class="sd">        :raises NotImplementedError: Error sent if the method is not overridden.</span>
<span class="sd">        :return: Statement of Tex.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Gaussian"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Gaussian">[docs]</a><span class="k">class</span> <span class="nc">Gaussian</span><span class="p">(</span><span class="n">PeakFunctionContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Gaussian. Default peak on iSATex</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">amp</span> <span class="o">=</span> <span class="n">FloatContainer</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">min_</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="n">ctr</span> <span class="o">=</span> <span class="n">FloatContainer</span><span class="p">()</span>
        <span class="n">wid</span> <span class="o">=</span> <span class="n">FloatContainer</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">min_</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">({</span><span class="s1">&#39;Amplitude&#39;</span><span class="p">:</span> <span class="n">amp</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span> <span class="n">ctr</span><span class="p">,</span> <span class="s1">&#39;Width&#39;</span><span class="p">:</span> <span class="n">wid</span><span class="p">})</span>

<div class="viewcode-block" id="Gaussian.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Gaussian.Function">[docs]</a>    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mf">1e10</span></div>

<div class="viewcode-block" id="Gaussian.GetTex"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Gaussian.GetTex">[docs]</a>    <span class="k">def</span> <span class="nf">GetTex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">r</span><span class="s1">&#39;$Amp\ exp\left(-4\ \ln</span><span class="si">{2}</span><span class="s1">\left( \frac{x - Ctr}</span><span class="si">{Wid}</span><span class="s1">\right)^2 \right)$&#39;</span></div></div>


<div class="viewcode-block" id="SpectrumFunctionContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerBase">[docs]</a><span class="k">class</span> <span class="nc">SpectrumFunctionContainerBase</span><span class="p">(</span><span class="n">FunctionContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain function on spectral data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_instance_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">data_accessor</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">SpectrumFunctionContainerBase</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_instance_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="SpectrumFunctionContainerBase.Execution"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerBase.Execution">[docs]</a>    <span class="k">def</span> <span class="nf">Execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">bg</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">peaks</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">PeakFunctionContainerBase</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot; &quot;Function&quot; wrapper</span>

<span class="sd">        :param x: xdata of spectrum</span>
<span class="sd">        :type x: Iterable</span>
<span class="sd">        :param y: ydata of spectrum</span>
<span class="sd">        :type y: Iterable</span>
<span class="sd">        :param bg: background of spectrum</span>
<span class="sd">        :type bg: Iterable</span>
<span class="sd">        :param peaks: peak of spectrum</span>
<span class="sd">        :type peaks: Iterable[PeakFunctionContainerBase, ...]</span>
<span class="sd">        :rtype: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">require</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SendRequireParams</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">require</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">require</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">require</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">require</span> <span class="o">==</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">peaks</span><span class="p">)</span>

        <span class="n">args</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="SpectrumFunctionContainerBase.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerBase.Function">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Describe the body of the function here.</span>

<span class="sd">        :param args: The parameters specified in &quot;SendRequireParams&quot;. If you want to know more details, please refer to the documentation of &quot;SendRequireParams&quot;.</span>
<span class="sd">        :raises NotImplementedError: Error sent if the method is not overridden.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="SpectrumFunctionContainerBase.SendRequireParams"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerBase.SendRequireParams">[docs]</a>    <span class="k">def</span> <span class="nf">SendRequireParams</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Send the required parameters.</span>

<span class="sd">        :return: Send the required parameters. &#39;x&#39;, &#39;y&#39;, &#39;b&#39;, and &#39;p&#39; can be specified. If you specify &#39;xyp&#39;, the arguments passed to &#39;Function&#39; are x, y, and p of the spectral data.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="SpectrumFunctionContainerBase.SendReturnParams"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerBase.SendReturnParams">[docs]</a>    <span class="k">def</span> <span class="nf">SendReturnParams</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Send the return value of &quot;Function&quot;.</span>

<span class="sd">        :return: Send the return parameters. If you want to know more details, please refer the &quot;SendRequireParams&quot; document for how to specify them.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="SpectrumFunctionContainerBase.OnPeakTypeChanged"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerBase.OnPeakTypeChanged">[docs]</a>    <span class="k">def</span> <span class="nf">OnPeakTypeChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Called when the peak type is changed in the application. This method is intended to be overridden.</span>

<span class="sd">        :param event: Events with information about type of peak changes</span>
<span class="sd">        :type event: PeakTypeChangeEvent</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="EncodeFunctionContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.EncodeFunctionContainerBase">[docs]</a><span class="k">class</span> <span class="nc">EncodeFunctionContainerBase</span><span class="p">(</span><span class="n">FunctionContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain function on encode. This class is used to load experimental data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg_container_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">arg_container_dict</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">SendReturnParams</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="s1">&#39;xy&#39;</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Return value of &quot;GetReturnParams&quot; should be contains &quot;x&quot; and &quot;y&quot;.&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="EncodeFunctionContainerBase.Execution"><a class="viewcode-back" href="../../isatex.html#isatex.objects.EncodeFunctionContainerBase.Execution">[docs]</a>    <span class="nd">@final</span>
    <span class="k">def</span> <span class="nf">Execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;Function&quot; wrapper</span>

<span class="sd">        :param contents: The experimental data</span>
<span class="sd">        :type contents: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())</span></div>

<div class="viewcode-block" id="EncodeFunctionContainerBase.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.EncodeFunctionContainerBase.Function">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Describe the body of the function here.</span>

<span class="sd">        :param contents: experimental data</span>
<span class="sd">        :type contents: str</span>
<span class="sd">        :param args: The parameters specified in &quot;SendRequireParams&quot;. If you want to know more details, please refer to the documentation of &quot;SendRequireParams&quot;.</span>
<span class="sd">        :raises NotImplementedError: Error sent if the method is not overridden.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="EncodeFunctionContainerBase.SendReturnParams"><a class="viewcode-back" href="../../isatex.html#isatex.objects.EncodeFunctionContainerBase.SendReturnParams">[docs]</a>    <span class="k">def</span> <span class="nf">SendReturnParams</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Send the return value of &quot;Function&quot;.</span>

<span class="sd">        :return: Send the return parameters. If you want to know more details, please refer the &quot;SendRequireParams&quot; document for how to specify them. default to &#39;xy&#39; and should contain &#39;xy&#39;.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;xy&#39;</span></div>

<div class="viewcode-block" id="EncodeFunctionContainerBase.SendFileTypeWildcard"><a class="viewcode-back" href="../../isatex.html#isatex.objects.EncodeFunctionContainerBase.SendFileTypeWildcard">[docs]</a>    <span class="k">def</span> <span class="nf">SendFileTypeWildcard</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Send the supported file formats.</span>

<span class="sd">        :return: default to FileSelectorDefaultWildcardStr. If you want to know more details, please refer the wxPython document at (https://docs.wxpython.org/wx.functions.html?highlight=fileselector#wx.FileSelector).</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FileSelectorDefaultWildcardStr</span></div></div>


<div class="viewcode-block" id="Text"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Text">[docs]</a><span class="k">class</span> <span class="nc">Text</span><span class="p">(</span><span class="n">EncodeFunctionContainerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">({</span><span class="s1">&#39;Delimiter&#39;</span><span class="p">:</span> <span class="n">ChoiceContainer</span><span class="p">(</span><span class="s1">&#39;Comma&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Colon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tab&#39;</span><span class="p">,</span> <span class="s1">&#39;Space&#39;</span><span class="p">,</span> <span class="s1">&#39;Comma&#39;</span><span class="p">,</span> <span class="s1">&#39;Equals Sign&#39;</span><span class="p">,</span> <span class="s1">&#39;Semicolon&#39;</span><span class="p">])})</span>

<div class="viewcode-block" id="Text.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Text.Function">[docs]</a>    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contents</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="n">xdata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">ydata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">delimiter_name</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">()</span>
        <span class="n">delimiter_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Colon&#39;</span><span class="p">:</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;Tab&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;Space&#39;</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;Comma&#39;</span><span class="p">:</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;Equals Sign&#39;</span><span class="p">:</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="s1">&#39;Semicolon&#39;</span><span class="p">:</span> <span class="s1">&#39;;&#39;</span><span class="p">}</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="n">delimiter_dict</span><span class="p">[</span><span class="n">delimiter_name</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">contents</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delimiter</span><span class="p">))</span>

            <span class="n">xdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span></div></div>


<div class="viewcode-block" id="PeakFunctionContainerList"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerList">[docs]</a><span class="k">class</span> <span class="nc">PeakFunctionContainerList</span><span class="p">(</span><span class="n">RestrictedStorableListBase</span><span class="p">):</span>
<div class="viewcode-block" id="PeakFunctionContainerList.CreateDummyPeaks"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakFunctionContainerList.CreateDummyPeaks">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">CreateDummyPeaks</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate dummy data. Can be used for testing, etc.</span>

<span class="sd">        :param x: xdata, If &quot;x&quot; is none, it will be converted to an array of size 100, defaults to None</span>
<span class="sd">        :type x: ndrray, optional</span>
<span class="sd">        :param size: size of peaks, if size is none, then a value between 0 and 5 will be randomly selected, defaults to None</span>
<span class="sd">        :type size: int, optional</span>
<span class="sd">        :return: instance of PeakFunctionContainerList</span>
<span class="sd">        :rtype: PeakFunctionContainerList</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peaks</span> <span class="o">=</span> <span class="n">PeakFunctionContainerList</span><span class="p">()</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">300</span><span class="p">))</span>
        <span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">size</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
            <span class="n">peak</span> <span class="o">=</span> <span class="n">DEFAULT_PEAK</span>
            <span class="n">peak</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">x</span>
            <span class="n">peak</span><span class="o">.</span><span class="n">Amp</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>
            <span class="n">peak</span><span class="o">.</span><span class="n">Ctr</span> <span class="o">=</span> <span class="n">size</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span>
            <span class="n">peak</span><span class="o">.</span><span class="n">Wid</span> <span class="o">=</span> <span class="n">size</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span>
            <span class="n">peaks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">peak</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">peaks</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List with elements restricted to PeakFunctionContainerBase</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">PeakFunctionContainerBase</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="PeakType"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType">[docs]</a><span class="k">class</span> <span class="nc">PeakType</span><span class="p">(</span><span class="n">StorableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Data object for peak type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peak_func_container</span><span class="p">:</span> <span class="n">PeakFunctionContainerList</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param peak_func_container: The original peak function, defaults to None</span>
<span class="sd">        :type peak_func_container: PeakFunctionContainerList, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">peak_func_container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">peak_func_container</span><span class="p">,</span> <span class="n">PeakFunctionContainerBase</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span> <span class="o">=</span> <span class="n">peak_func_container</span>

<div class="viewcode-block" id="PeakType.GetName"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetName">[docs]</a>    <span class="k">def</span> <span class="nf">GetName</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get name of peak</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span></div>

<div class="viewcode-block" id="PeakType.GetArgumentLength"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetArgumentLength">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgumentLength</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get length of argument</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())</span></div>

<div class="viewcode-block" id="PeakType.GetArgumentNames"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetArgumentNames">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgumentNames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a list of argument names</span>

<span class="sd">        :rtype: Tuple[str, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="n">GetArgumentNames</span><span class="p">()</span></div>

<div class="viewcode-block" id="PeakType.GetArgumentContainerList"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetArgumentContainerList">[docs]</a>    <span class="k">def</span> <span class="nf">GetArgumentContainerList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ArgumentContainerBase</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a list of &quot;ArgumentContainerBase&quot; class. This value is deepcopied.</span>

<span class="sd">        :rtype: List[ArgumentContainerBase, ...]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="n">GetArgumentContainerList</span><span class="p">())</span></div>

<div class="viewcode-block" id="PeakType.GetFunction"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetFunction">[docs]</a>    <span class="k">def</span> <span class="nf">GetFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">callable</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get function of peak</span>

<span class="sd">        :rtype: callable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="n">Function</span></div>

<div class="viewcode-block" id="PeakType.GetPeakInstance"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetPeakInstance">[docs]</a>    <span class="k">def</span> <span class="nf">GetPeakInstance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakFunctionContainerBase</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get an instance of the &quot;PeakFunctionContainerBase&quot; class contained. This value is deepcopied.</span>

<span class="sd">        :rtype: PeakFunctionContainerBase</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="p">)</span></div>

<div class="viewcode-block" id="PeakType.GetHelpText"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetHelpText">[docs]</a>    <span class="k">def</span> <span class="nf">GetHelpText</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns text to help understand the &quot;Function&quot;.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="n">GetHelpText</span><span class="p">()</span></div>

<div class="viewcode-block" id="PeakType.GetTex"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.GetTex">[docs]</a>    <span class="k">def</span> <span class="nf">GetTex</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get statement of function following the Tex syntax.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="o">.</span><span class="n">GetTex</span><span class="p">()</span></div>

<div class="viewcode-block" id="PeakType.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakFunctionContainerBase</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Send contained instance of peak.</span>

<span class="sd">        :rtype: PeakFunctionContainerBase</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span><span class="p">,)</span></div>

<div class="viewcode-block" id="PeakType.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakType.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakFunctionContainerBase</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data</span>

<span class="sd">        :type save_data: PeakFunctionContainerBase</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peak_func_container</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="Spectrum"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Spectrum">[docs]</a><span class="k">class</span> <span class="nc">Spectrum</span><span class="p">(</span><span class="n">StorableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Data object for spectrum</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Spectrum.CreateDummySpectrum"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Spectrum.CreateDummySpectrum">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">CreateDummySpectrum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate dummy data. Can be used for testing, etc.</span>

<span class="sd">        :param size: data size, defaults to 100</span>
<span class="sd">        :type size: int, optional</span>
<span class="sd">        :rtype: Spectrum</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">cos</span><span class="p">([</span><span class="n">v</span> <span class="o">+</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
        <span class="n">bg</span> <span class="o">=</span> <span class="n">sin</span><span class="p">([</span><span class="mf">0.05</span> <span class="o">*</span> <span class="n">v</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
        <span class="n">peaks</span> <span class="o">=</span> <span class="n">PeakFunctionContainerList</span><span class="o">.</span><span class="n">CreateDummyPeaks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Spectrum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">bg</span><span class="p">,</span> <span class="n">peaks</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">ndarray</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">ndarray</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bg</span><span class="p">:</span> <span class="n">ndarray</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">peaks</span><span class="p">:</span> <span class="n">PeakFunctionContainerList</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param x: xdata of spectrum. if x is None, x convert to empty ndarray. defaults to None</span>
<span class="sd">        :type x: ndarray, optional</span>
<span class="sd">        :param y: ydata of spectrum. y should be same size of x. if x is None or None, y convert to empty ndarray. defaults to None</span>
<span class="sd">        :type y: ndarray, optional</span>
<span class="sd">        :param bg: background of spectrum. bg should be same size of x or None. if bg is None, bg convert to empty ndarray. defaults to None</span>
<span class="sd">        :type bg: ndarray, optional</span>
<span class="sd">        :param peaks: peak of spectrum. if peaks is None, peaks convert to empty list, defaults to None</span>
<span class="sd">        :type peaks: PeakFunctionContainerList, optional</span>
<span class="sd">        :raises ValueError: [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span> <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__bg</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span> <span class="k">if</span> <span class="n">bg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">bg</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">bg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span> <span class="o">=</span> <span class="n">PeakFunctionContainerList</span><span class="p">()</span> <span class="k">if</span> <span class="n">peaks</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">PeakFunctionContainerList</span><span class="p">(</span><span class="n">peaks</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__bg</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">X</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;xdata of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span>

    <span class="nd">@X</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">X</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The length of &quot;x&quot; should be the same as the length of &quot;y&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">peak</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span><span class="p">:</span>
            <span class="n">peak</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Y</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;ydata of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span>

    <span class="nd">@Y</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The length of &quot;y&quot; should be the same as the length of &quot;x&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">XY</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;data of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: Tuple[ndarray, ndarray]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">),</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__y</span><span class="p">)</span>

    <span class="nd">@XY</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">XY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The length of &quot;x&quot; should be the same as the length of &quot;y&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__bg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">*</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">peak</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span><span class="p">:</span>
            <span class="n">peak</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">BackGround</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__bg</span><span class="p">)</span>

    <span class="nd">@BackGround</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">BackGround</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Background of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">bg</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;The length of &quot;bg&quot; should be the same as the length of &quot;x&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__bg</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">bg</span><span class="p">)</span>

    <span class="nd">@BackGround</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span> <span class="nf">BackGround</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__bg</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">zeros</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Peaks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakFunctionContainerList</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Peaks of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: PeakFunctionContainerList</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span><span class="p">)</span>

    <span class="nd">@Peaks</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Peaks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peaks</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span> <span class="o">=</span> <span class="n">PeakFunctionContainerList</span><span class="p">(</span><span class="n">peaks</span><span class="p">)</span>

    <span class="nd">@Peaks</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span> <span class="nf">Peaks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span> <span class="o">=</span> <span class="n">PeakFunctionContainerList</span><span class="p">()</span>

<div class="viewcode-block" id="Spectrum.GetSize"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Spectrum.GetSize">[docs]</a>    <span class="k">def</span> <span class="nf">GetSize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get size of spectrum.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span></div>

<div class="viewcode-block" id="Spectrum.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Spectrum.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">PeakFunctionContainerList</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Send (x, y, background, peaks) as save data.</span>

<span class="sd">        :rtype: Tuple[ndarray, ndarray, ndarray, PeakFunctionContainerList]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">X</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Y</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">BackGround</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Peaks</span></div>

<div class="viewcode-block" id="Spectrum.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Spectrum.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">,</span> <span class="n">PeakFunctionContainerList</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data</span>

<span class="sd">        :type save_data: Tuple[ndarray, ndarray, ndarray, PeakFunctionContainerList]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">bg</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peaks</span> <span class="o">=</span> <span class="n">save_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__x</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__y</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__bg</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">bg</span><span class="p">)</span></div></div>


<span class="c1"># TODO Composite pattern of &quot;RecipeFunctionContainerBase&quot;.</span>
<div class="viewcode-block" id="Recipe"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Recipe">[docs]</a><span class="k">class</span> <span class="nc">Recipe</span><span class="p">(</span><span class="n">RestrictedStorableListBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Data object. Record the functions, their order, and the arguments that each function has.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">SpectrumFunctionContainerBase</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Preset"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Preset">[docs]</a><span class="k">class</span> <span class="nc">Preset</span><span class="p">(</span><span class="n">Recipe</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Data object for &quot;Recipe&quot; class with name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param name: name of preset, defaults to &#39;&#39;</span>
<span class="sd">        :type name: str, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;name&quot; should be instance of &quot;str&quot;.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>

<div class="viewcode-block" id="Preset.GetName"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Preset.GetName">[docs]</a>    <span class="k">def</span> <span class="nf">GetName</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get name of preset.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span></div>

<div class="viewcode-block" id="Preset.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Preset.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">SpectrumFunctionContainerBase</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Send name of preset and recipe as save data.</span>

<span class="sd">        :rtype: Tuple[str, Iterable[SpectrumFunctionContainerBase]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetName</span><span class="p">(),</span> <span class="p">[</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">()],)</span></div>

<div class="viewcode-block" id="Preset.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Preset.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">SpectrumFunctionContainerBase</span><span class="p">]]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data</span>

<span class="sd">        :type save_data: Tuple[str, Iterable[SpectrumFunctionContainerBase]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">save_data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="SpectrumFunctionContainerAccessor"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerAccessor">[docs]</a><span class="k">class</span> <span class="nc">SpectrumFunctionContainerAccessor</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Utility class for letting &quot;PeakType&quot; class access data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_mgr</span><span class="p">,</span> <span class="n">peak_mgr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param data_mgr: Manager of data</span>
<span class="sd">        :type data_mgr: DataManager</span>
<span class="sd">        :param peak_mgr: Manager of peak</span>
<span class="sd">        :type peak_mgr: PeakManager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data_mgr</span> <span class="o">=</span> <span class="n">data_mgr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peak_mgr</span> <span class="o">=</span> <span class="n">peak_mgr</span>

<div class="viewcode-block" id="SpectrumFunctionContainerAccessor.GetPeakType"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerAccessor.GetPeakType">[docs]</a>    <span class="k">def</span> <span class="nf">GetPeakType</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get selected type of peak</span>

<span class="sd">        :rtype: PeakType</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_mgr</span><span class="o">.</span><span class="n">GetSelectedPeakType</span><span class="p">()</span></div>

<div class="viewcode-block" id="SpectrumFunctionContainerAccessor.GetRecipe"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerAccessor.GetRecipe">[docs]</a>    <span class="k">def</span> <span class="nf">GetRecipe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Recipe</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get selected &quot;Recipe&quot;</span>

<span class="sd">        :rtype: Recipe</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data_mgr</span><span class="o">.</span><span class="n">GetSelectedRecipe</span><span class="p">()</span></div>

<div class="viewcode-block" id="SpectrumFunctionContainerAccessor.GetDataSize"><a class="viewcode-back" href="../../isatex.html#isatex.objects.SpectrumFunctionContainerAccessor.GetDataSize">[docs]</a>    <span class="k">def</span> <span class="nf">GetDataSize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the number of data being loaded.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data_mgr</span><span class="o">.</span><span class="n">GetDataSize</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="DataContainer"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer">[docs]</a><span class="k">class</span> <span class="nc">DataContainer</span><span class="p">(</span><span class="n">StorableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Recoverable data object</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="DataContainer.CreateDummyData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.CreateDummyData">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">CreateDummyData</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">spectrum_size</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate dummy data. Can be used for testing, etc.</span>

<span class="sd">        :param spectrum_size: size of spectrum, defaults to 100</span>
<span class="sd">        :type spectrum_size: int, optional</span>
<span class="sd">        :return: instance of DataContainer</span>
<span class="sd">        :rtype: DataContainer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">DataContainer</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;./DummyDataPathSize</span><span class="si">{</span><span class="n">spectrum_size</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">spectrum</span> <span class="o">=</span> <span class="n">Spectrum</span><span class="o">.</span><span class="n">CreateDummySpectrum</span><span class="p">(</span><span class="n">spectrum_size</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">spectrum</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">data</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">buffer_size</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param path: Path of the file containing the experimental data, defaults to &#39;&#39;</span>
<span class="sd">        :type path: str, optional</span>
<span class="sd">        :param buffer_size: Size of the buffer for data recovery, defaults to 20</span>
<span class="sd">        :type buffer_size: int, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="n">buffer_size</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">X</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;xdata of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">X</span>

    <span class="nd">@X</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">X</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Y</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;ydata of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Y</span>

    <span class="nd">@Y</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Y</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">XY</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">ndarray</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;data of spectrum. This value is deepcopied.</span>

<span class="sd">        :return: [description]</span>
<span class="sd">        :rtype: Tuple[ndarray, ndarray]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">XY</span>

    <span class="nd">@XY</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">XY</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">XY</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">BackGround</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Background of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: ndarray</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">BackGround</span>

    <span class="nd">@BackGround</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">BackGround</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">BackGround</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@BackGround</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span> <span class="nf">BackGround</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">BackGround</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Peaks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakFunctionContainerList</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Peaks of spectrum. This value is deepcopied.</span>

<span class="sd">        :rtype: PeakFunctionContainerList</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Peaks</span>

    <span class="nd">@Peaks</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Peaks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Peaks</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@Peaks</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span> <span class="nf">Peaks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Peaks</span>

<div class="viewcode-block" id="DataContainer.GetSpectrumSize"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.GetSpectrumSize">[docs]</a>    <span class="k">def</span> <span class="nf">GetSpectrumSize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get size of spectrum.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">GetSize</span><span class="p">()</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Recipe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Recipe</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get recipe applied to the data</span>

<span class="sd">        :rtype: Recipe</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@Recipe</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Recipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Recipe</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Can not include anything other than an instance of &quot;Recipe&quot;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">SuccessList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;A list of the results of executing the recipe.</span>

<span class="sd">        :return: If the value is bool, it indicates success or failure, and if the value is none, it indicates that it has not been executed.</span>
<span class="sd">        :rtype: List[Optional[bool]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>

    <span class="nd">@SuccessList</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">SuccessList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Msg</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Message on recipe execution</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>

    <span class="nd">@Msg</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Can not include anything other than an instance of &quot;str&quot;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">Path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Path of the file containing the experimental data</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__path</span>

    <span class="nd">@Path</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">Path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">v</span>

<div class="viewcode-block" id="DataContainer.Append"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.Append">[docs]</a>    <span class="k">def</span> <span class="nf">Append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spectrum</span><span class="p">:</span> <span class="n">Spectrum</span><span class="p">,</span> <span class="n">recipe</span><span class="p">:</span> <span class="n">Recipe</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">success_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Append data to the history.</span>

<span class="sd">        :type spectrum: Spectrum</span>
<span class="sd">        :param recipe: Recipe, If the recipe is none, it will be converted to an empty recipe. defaults to None</span>
<span class="sd">        :type recipe: Recipe, optional</span>
<span class="sd">        :param success_list: A list of the results of executing the recipe. If success_list is None, It assume that all the steps have not been executed. defaults to None</span>
<span class="sd">        :type success_list: List[Optional[bool]], optional</span>
<span class="sd">        :param msg: Message for this data history, defaults to &#39;&#39;</span>
<span class="sd">        :type msg: str, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spectrum</span><span class="p">,</span> <span class="n">Spectrum</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;spectrum&quot; must be an instance of &quot;Spectrum&quot;.&#39;</span><span class="p">)</span>

        <span class="n">recipe</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">()</span> <span class="k">if</span> <span class="n">recipe</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">recipe</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">recipe</span><span class="p">,</span> <span class="n">Recipe</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;recipe&quot; must be an instance of &quot;Recipe&quot;.&#39;</span><span class="p">)</span>

        <span class="n">success_list</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">recipe</span><span class="p">)</span> <span class="k">if</span> <span class="n">success_list</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">success_list</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="ow">not</span> <span class="p">(</span><span class="n">success</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">success</span><span class="p">,</span> <span class="nb">bool</span><span class="p">))</span> <span class="k">for</span> <span class="n">success</span> <span class="ow">in</span> <span class="n">success_list</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">success_list</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">recipe</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;&quot;msg&quot; must be an instance of &quot;str&quot;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="o">.</span><span class="n">appendleft</span><span class="p">([</span><span class="n">spectrum</span><span class="p">,</span> <span class="n">recipe</span><span class="p">,</span> <span class="n">success_list</span><span class="p">,</span> <span class="n">msg</span><span class="p">])</span></div>

<div class="viewcode-block" id="DataContainer.Clear"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.Clear">[docs]</a>    <span class="k">def</span> <span class="nf">Clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear buffer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="DataContainer.Restore"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.Restore">[docs]</a>    <span class="k">def</span> <span class="nf">Restore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Restore buffer data. Adds a copy of the specified data to the latest history.</span>

<span class="sd">        :param delta: 0 represents the latest, and the larger the number, the older the data.</span>
<span class="sd">        :type delta: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spectrum</span><span class="p">,</span> <span class="n">recipe</span><span class="p">,</span> <span class="n">success_list</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__GetBufferData</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">spectrum</span><span class="p">),</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">recipe</span><span class="p">),</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">success_list</span><span class="p">),</span> <span class="sa">f</span><span class="s1">&#39;restore from</span><span class="se">\n</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataContainer.GetBufferData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.GetBufferData">[docs]</a>    <span class="k">def</span> <span class="nf">GetBufferData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get buffered data. This value is deepcopied.</span>

<span class="sd">        :param delta: 0 represents the latest, and the larger the number, the older the data.</span>
<span class="sd">        :type delta: int</span>
<span class="sd">        :rtype: Tuple[Spectrum, Recipe, List[Optional[bool]], str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__GetBufferData</span><span class="p">(</span><span class="n">delta</span><span class="p">))</span></div>

    <span class="k">def</span> <span class="nf">__GetBufferData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">BufferSize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;size of buffer.</span>

<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">)</span>

    <span class="nd">@BufferSize</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">BufferSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="n">new_buffer</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">new_buffer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span> <span class="o">=</span> <span class="n">new_buffer</span>

<div class="viewcode-block" id="DataContainer.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send path and latest data as save data.</span>

<span class="sd">        :rtype: Tuple[str, Tuple[Spectrum, Recipe, List[Optional[bool]], str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">],)</span></div>

<div class="viewcode-block" id="DataContainer.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DataContainer.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data</span>

<span class="sd">        :type save_data: Tuple[str, Tuple[Spectrum, Recipe, List[Optional[bool]], str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__buffer</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="n">spectrum</span><span class="p">,</span> <span class="n">recipe</span><span class="p">,</span> <span class="n">success_list</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">save_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">spectrum</span><span class="p">,</span> <span class="n">recipe</span><span class="p">,</span> <span class="n">success_list</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Project"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project">[docs]</a><span class="k">class</span> <span class="nc">Project</span><span class="p">(</span><span class="n">StorableObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Data object for project</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Project.CreateDummyProject"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.CreateDummyProject">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">CreateDummyProject</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">spectrum_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate dummy data. Can be used for testing, etc.</span>

<span class="sd">        :param data_size: size of data, defaults to 3</span>
<span class="sd">        :type data_size: int, optional</span>
<span class="sd">        :param spectrum_size: size of spectrum, defaults to 100</span>
<span class="sd">        :type spectrum_size: int, optional</span>
<span class="sd">        :rtype: instance of Project</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_size</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">DataContainer</span><span class="o">.</span><span class="n">CreateDummyData</span><span class="p">(</span><span class="n">spectrum_size</span><span class="p">)</span>
            <span class="n">data</span><span class="o">.</span><span class="n">Path</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">Path</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Project</span><span class="p">(</span><span class="s1">&#39;./Dummy Data.itsv&#39;</span><span class="p">,</span> <span class="s1">&#39;dummy note...&#39;</span><span class="p">,</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">DEFAULT_PEAK_TYPE</span><span class="p">,</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span></div>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">note</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">data_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DataContainer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">peak_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PeakType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">experimental_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Default constructor</span>

<span class="sd">        :param path: The path where the project is saved, defaults to &#39;&#39;</span>
<span class="sd">        :type path: str, optional</span>
<span class="sd">        :param note: Note on the project, defaults to &#39;&#39;</span>
<span class="sd">        :type note: str, optional</span>
<span class="sd">        :param data_list: a list of DataContainer class, defaults to None</span>
<span class="sd">        :type data_list: Optional[List[DataContainer]], optional</span>
<span class="sd">        :param peak_type: type of peak. If peak_type is None, it is converted to the peak of the default., defaults to None</span>
<span class="sd">        :type peak_type: Optional[PeakType], optional</span>
<span class="sd">        :param experimental_date: Date of experiment, defaults to None</span>
<span class="sd">        :type experimental_date: Optional[date], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__IsValidPath</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">note</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="n">data_list</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">data_list</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">data_list</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">HasValidElement</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">DataContainer</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="n">peak_type</span> <span class="o">=</span> <span class="n">DEFAULT_PEAK_TYPE</span> <span class="k">if</span> <span class="n">peak_type</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">peak_type</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">peak_type</span><span class="p">,</span> <span class="n">PeakType</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="n">experimental_date</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="k">if</span> <span class="n">experimental_date</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">experimental_date</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">experimental_date</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__note</span> <span class="o">=</span> <span class="n">note</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__data_list</span> <span class="o">=</span> <span class="n">data_list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__peak_type</span> <span class="o">=</span> <span class="n">peak_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__experimental_date</span> <span class="o">=</span> <span class="n">experimental_date</span>

<div class="viewcode-block" id="Project.GetPath"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetPath">[docs]</a>    <span class="k">def</span> <span class="nf">GetPath</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get path where the project is saved.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__path</span></div>

<div class="viewcode-block" id="Project.SetPath"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetPath">[docs]</a>    <span class="k">def</span> <span class="nf">SetPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set path where the project is saved. The specified path must be empty or directly under an existing directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__IsValidPath</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">path</span></div>

    <span class="k">def</span> <span class="nf">__IsValidPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">isdir</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

<div class="viewcode-block" id="Project.GetFileName"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetFileName">[docs]</a>    <span class="k">def</span> <span class="nf">GetFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the name of file in which the project is saved, if it is not set, return NEW_PROJECT_NAME.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">NEW_PROJECT_NAME</span> <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">:=</span> <span class="n">GetFileName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__path</span><span class="p">))</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="k">else</span> <span class="n">name</span></div>

<div class="viewcode-block" id="Project.SetFileName"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetFileName">[docs]</a>    <span class="k">def</span> <span class="nf">SetFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the name of file in which the project is saved</span>

<span class="sd">        :type name: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">GetDirectory</span><span class="p">(),</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Project.GetDirectory"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetDirectory">[docs]</a>    <span class="k">def</span> <span class="nf">GetDirectory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the name of the directory where the project is saved. If it is not set, it returns empty string.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__path</span><span class="p">)</span></div>

<div class="viewcode-block" id="Project.SetDirectory"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetDirectory">[docs]</a>    <span class="k">def</span> <span class="nf">SetDirectory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the name of the directory where the project is saved.</span>

<span class="sd">        :type directory: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">isdir</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetFileName</span><span class="p">())</span></div>

<div class="viewcode-block" id="Project.GetDataList"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetDataList">[docs]</a>    <span class="k">def</span> <span class="nf">GetDataList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">DataContainer</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the list of DataContainer.</span>

<span class="sd">        :param index_list: Returns the data for a given index. If not specified, all data will be returned. defaults to None</span>
<span class="sd">        :type index_list: Optional[Iterable[int]], optional</span>
<span class="sd">        :return: [description]</span>
<span class="sd">        :rtype: Tuple[DataContainer]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data_list</span>
        <span class="k">return</span> <span class="n">data_list</span> <span class="k">if</span> <span class="n">index_list</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="n">data_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">index_list</span><span class="p">]</span></div>

<div class="viewcode-block" id="Project.SetDataList"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetDataList">[docs]</a>    <span class="k">def</span> <span class="nf">SetDataList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_list</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">DataContainer</span><span class="p">],</span> <span class="n">index_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the list of DataContainer</span>

<span class="sd">        :type data_list: Iterable[DataContainer]</span>
<span class="sd">        :param index_list: If specified, the data at the specified index will be updated, otherwise it will be recorded as a new data list., defaults to None</span>
<span class="sd">        :type index_list: Optional[Iterable[int]], optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">HasValidElement</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">DataContainer</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">index_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__data_list</span> <span class="o">=</span> <span class="n">data_list</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="n">original_data_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data_list</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">index_list</span><span class="p">,</span> <span class="n">data_list</span><span class="p">):</span>
            <span class="n">original_data_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span></div>

<div class="viewcode-block" id="Project.GetNote"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetNote">[docs]</a>    <span class="k">def</span> <span class="nf">GetNote</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get note on the project.</span>

<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__note</span></div>

<div class="viewcode-block" id="Project.SetNote"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetNote">[docs]</a>    <span class="k">def</span> <span class="nf">SetNote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">note</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set note on the project</span>

<span class="sd">        :type note: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">note</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__note</span> <span class="o">=</span> <span class="n">note</span></div>

<div class="viewcode-block" id="Project.GetPeakType"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetPeakType">[docs]</a>    <span class="k">def</span> <span class="nf">GetPeakType</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeakType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get type of peak. This value is deepcopied.</span>

<span class="sd">        :rtype: PeakType</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__peak_type</span><span class="p">)</span></div>

<div class="viewcode-block" id="Project.SetPeakType"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetPeakType">[docs]</a>    <span class="k">def</span> <span class="nf">SetPeakType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peak_type</span><span class="p">:</span> <span class="n">PeakType</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set type of peak.</span>

<span class="sd">        :type peak_type: PeakType</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">peak_type</span><span class="p">,</span> <span class="n">PeakType</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__peak_type</span> <span class="o">=</span> <span class="n">peak_type</span></div>

<div class="viewcode-block" id="Project.GetExperimentalDate"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.GetExperimentalDate">[docs]</a>    <span class="k">def</span> <span class="nf">GetExperimentalDate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">date</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get date of experiment.</span>

<span class="sd">        :rtype: date</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__experimental_date</span></div>

<div class="viewcode-block" id="Project.SetExperimentalDate"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SetExperimentalDate">[docs]</a>    <span class="k">def</span> <span class="nf">SetExperimentalDate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experimental_date</span><span class="p">:</span> <span class="n">date</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set date of experiment.</span>

<span class="sd">        :type experimental_date: date</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">experimental_date</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__experimental_date</span> <span class="o">=</span> <span class="n">experimental_date</span></div>

<div class="viewcode-block" id="Project.SendSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.SendSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">SendSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">PeakType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">DataContainer</span><span class="p">],</span> <span class="n">date</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Send path, note, type of peak, the list of data and date of experiment as save data.</span>

<span class="sd">        :return: [description]</span>
<span class="sd">        :rtype: Tuple[str, str, PeakType, List[DataContainer], date]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__note</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__experimental_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="Project.ReceiveSaveData"><a class="viewcode-back" href="../../isatex.html#isatex.objects.Project.ReceiveSaveData">[docs]</a>    <span class="k">def</span> <span class="nf">ReceiveSaveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_data</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">PeakType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">DataContainer</span><span class="p">],</span> <span class="n">date</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;Receive saved data</span>

<span class="sd">        :type save_data: Tuple[str, str, PeakType, List[DataContainer], date]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__note</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__peak_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__data_list</span><span class="p">,</span> <span class="n">date_value</span> <span class="o">=</span> <span class="n">save_data</span>
        <span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">date_value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__experimental_date</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="DecodeFunctionContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DecodeFunctionContainerBase">[docs]</a><span class="k">class</span> <span class="nc">DecodeFunctionContainerBase</span><span class="p">(</span><span class="n">FunctionContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain function on decode. This class is used to output experimental data as a file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="DecodeFunctionContainerBase.Execution"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DecodeFunctionContainerBase.Execution">[docs]</a>    <span class="k">def</span> <span class="nf">Execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project</span><span class="p">:</span> <span class="n">Project</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;wrapper of &quot;Function&quot;</span>

<span class="sd">        :type project: Project</span>
<span class="sd">        :return: contents of a output file</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())</span></div>

<div class="viewcode-block" id="DecodeFunctionContainerBase.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DecodeFunctionContainerBase.Function">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project</span><span class="p">:</span> <span class="n">Project</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Describe the function to convert the experimental data to the contents of the output file.</span>

<span class="sd">        :param project: Information on experimental data</span>
<span class="sd">        :type project: Project</span>
<span class="sd">        :param args: The parameters specified in &quot;SendRequireParams&quot;. If you want to know more details, please refer to the documentation of &quot;SendRequireParams&quot;.</span>
<span class="sd">        :raises NotImplementedError: Error sent if the method is not overridden.</span>
<span class="sd">        :return: contents of the output file. If the return value is str, it will be output as a single file, and if it is Iterable[str], it will be output as multiple files.</span>
<span class="sd">        :rtype: Union[str, Iterable[str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div>

<div class="viewcode-block" id="DecodeFunctionContainerBase.SendFileTypeWildcard"><a class="viewcode-back" href="../../isatex.html#isatex.objects.DecodeFunctionContainerBase.SendFileTypeWildcard">[docs]</a>    <span class="k">def</span> <span class="nf">SendFileTypeWildcard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the file format for output.</span>

<span class="sd">        :return: default to FileSelectorDefaultWildcardStr. If you want to know more details, please refer the wxPython document at (https://docs.wxpython.org/wx.functions.html?highlight=fileselector#wx.FileSelector).</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FileSelectorDefaultWildcardStr</span></div></div>


<div class="viewcode-block" id="CSV"><a class="viewcode-back" href="../../isatex.html#isatex.objects.CSV">[docs]</a><span class="k">class</span> <span class="nc">CSV</span><span class="p">(</span><span class="n">DecodeFunctionContainerBase</span><span class="p">):</span>

<div class="viewcode-block" id="CSV.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.CSV.Function">[docs]</a>    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="n">peak_type</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">GetPeakType</span><span class="p">()</span>
        <span class="n">peak_arg_length</span> <span class="o">=</span> <span class="n">peak_type</span><span class="o">.</span><span class="n">GetArgumentLength</span><span class="p">()</span>

        <span class="n">data_list</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">GetDataList</span><span class="p">()</span>
        <span class="n">table</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">seperater</span> <span class="o">=</span> <span class="s1">&#39; ,&#39;</span>

        <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="p">[</span><span class="n">basename</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Path</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;Peak&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">peak_arg_length</span>
            <span class="n">row</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seperater</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>

        <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">param_header</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;bg&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">seperater</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">peak_type</span><span class="o">.</span><span class="n">GetArgumentNames</span><span class="p">())]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="n">row</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">param_header</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">))</span>

        <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seperater</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>

        <span class="n">max_data_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">data</span><span class="o">.</span><span class="n">GetSpectrumSize</span><span class="p">()</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">])</span>

        <span class="n">x_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">X</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">]</span>
        <span class="n">y_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">Y</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">]</span>
        <span class="n">bg_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">BackGround</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">]</span>
        <span class="n">peaks_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">Peaks</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_data_size</span><span class="p">):</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x_list</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">(</span><span class="n">x_list</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">y_list</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">bg_list</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">])))</span>

                <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks_list</span><span class="p">[</span><span class="n">j</span><span class="p">]):</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">peak_arg_length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">peaks_list</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">()))</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seperater</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>

        <span class="n">project_name</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">GetFileName</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">project_name</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table</span><span class="p">),)</span></div>

<div class="viewcode-block" id="CSV.SendFileTypeWildcard"><a class="viewcode-back" href="../../isatex.html#isatex.objects.CSV.SendFileTypeWildcard">[docs]</a>    <span class="k">def</span> <span class="nf">SendFileTypeWildcard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;CSV files (.csv)|*.csv&#39;</span></div></div>


<div class="viewcode-block" id="MappingFunctionContainerBase"><a class="viewcode-back" href="../../isatex.html#isatex.objects.MappingFunctionContainerBase">[docs]</a><span class="k">class</span> <span class="nc">MappingFunctionContainerBase</span><span class="p">(</span><span class="n">FunctionContainerBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Contain function on mapping</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MappingFunctionContainerBase.Execution"><a class="viewcode-back" href="../../isatex.html#isatex.objects.MappingFunctionContainerBase.Execution">[docs]</a>    <span class="k">def</span> <span class="nf">Execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_list</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">DataContainer</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Wrapper &quot;Function&quot;</span>

<span class="sd">        :type data_list: Iterable[DataContainer]</span>
<span class="sd">        :return: List of Value corresponding to data_list</span>
<span class="sd">        :rtype: Iterable[Union[int, float]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetArgs</span><span class="p">())</span></div>

<div class="viewcode-block" id="MappingFunctionContainerBase.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.MappingFunctionContainerBase.Function">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Describe the body of the function here.</span>

<span class="sd">        :type data_list: Iterable[DataContainer]</span>
<span class="sd">        :param args: The parameters specified in &quot;SendRequireParams&quot;. If you want to know more details, please refer to the documentation of &quot;SendRequireParams&quot;.</span>
<span class="sd">        :return: The value corresponding to data_list. The values are used for mapping and are colored according to the size of the value.</span>
<span class="sd">        :rtype: Iterable[Union[int, float]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="PeakMapping"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakMapping">[docs]</a><span class="k">class</span> <span class="nc">PeakMapping</span><span class="p">(</span><span class="n">MappingFunctionContainerBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">({</span>
            <span class="s1">&#39;Mode&#39;</span><span class="p">:</span> <span class="n">ChoiceContainer</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;Amplitude&#39;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Amplitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Center&#39;</span><span class="p">,</span> <span class="s1">&#39;FWHM&#39;</span><span class="p">]),</span>
            <span class="s1">&#39;Standard&#39;</span><span class="p">:</span> <span class="n">FloatContainer</span><span class="p">(),</span>
            <span class="s1">&#39;Left&#39;</span><span class="p">:</span> <span class="n">OptionalFloatContainer</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
            <span class="s1">&#39;Right&#39;</span><span class="p">:</span> <span class="n">OptionalFloatContainer</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
            <span class="s1">&#39;Bottom&#39;</span><span class="p">:</span> <span class="n">OptionalFloatContainer</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
            <span class="s1">&#39;Top&#39;</span><span class="p">:</span> <span class="n">OptionalFloatContainer</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
        <span class="p">})</span>

<div class="viewcode-block" id="PeakMapping.Function"><a class="viewcode-back" href="../../isatex.html#isatex.objects.PeakMapping.Function">[docs]</a>    <span class="k">def</span> <span class="nf">Function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">standard</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>

        <span class="n">left</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span> <span class="k">if</span> <span class="n">left</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">left</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">inf</span> <span class="k">if</span> <span class="n">right</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">right</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span> <span class="k">if</span> <span class="n">bottom</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">bottom</span>
        <span class="n">top</span> <span class="o">=</span> <span class="n">inf</span> <span class="k">if</span> <span class="n">top</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">top</span>

        <span class="n">value_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">value_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">v</span> <span class="o">=</span> <span class="n">inf</span>
            <span class="k">for</span> <span class="n">peak</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">Peaks</span><span class="p">:</span>
                <span class="n">amp</span><span class="p">,</span> <span class="n">ctr</span><span class="p">,</span> <span class="n">wid</span> <span class="o">=</span> <span class="n">peak</span><span class="o">.</span><span class="n">Amp</span><span class="p">,</span> <span class="n">peak</span><span class="o">.</span><span class="n">Ctr</span><span class="p">,</span> <span class="n">peak</span><span class="o">.</span><span class="n">Wid</span>

                <span class="k">if</span> <span class="n">bottom</span> <span class="o">&lt;=</span> <span class="n">amp</span> <span class="o">&lt;=</span> <span class="n">top</span> <span class="ow">and</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">ctr</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;Amplitude&#39;</span><span class="p">:</span>
                        <span class="n">w</span> <span class="o">=</span> <span class="n">amp</span>
                    <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;Center&#39;</span><span class="p">:</span>
                        <span class="n">w</span> <span class="o">=</span> <span class="n">ctr</span>
                    <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;FWHM&#39;</span><span class="p">:</span>
                        <span class="n">w</span> <span class="o">=</span> <span class="n">wid</span>

                    <span class="n">v</span> <span class="o">=</span> <span class="n">w</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">standard</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">abs</span><span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="n">standard</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span>

            <span class="k">if</span> <span class="n">v</span> <span class="o">!=</span> <span class="n">inf</span><span class="p">:</span>
                <span class="n">value_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">array</span><span class="p">(</span><span class="n">value_list</span><span class="p">)</span></div></div>

<span class="c1"># class StorableLinearSegmentedColormap(StorableObject, LinearSegmentedColormap):</span>
<span class="c1">#     def __init__(self, *args, **kw):</span>
<span class="c1">#         if &#39;name&#39; in kw and len(args) &gt;= 1:</span>
<span class="c1">#             raise TypeError()</span>

<span class="c1">#         name = kw.get(&#39;name&#39;, &#39;custom&#39;)</span>
<span class="c1">#         name = args[0] if len(args) &gt;= 1 else name</span>

<span class="c1">#         if &#39;segmentdata&#39; in kw and len(args) &gt;= 2:</span>
<span class="c1">#             raise TypeError()</span>

<span class="c1">#         segmentdata = kw.get(&#39;segmentdata&#39;, {</span>
<span class="c1">#             &#39;red&#39;: [[0.0, 1.0, 1.0], [1, 1, 1]],</span>
<span class="c1">#             &#39;blue&#39;: [[0.0, 1.0, 1.0], [1, 1, 1]],</span>
<span class="c1">#             &#39;green&#39;: [[0.0, 1.0, 1.0], [1, 1, 1]],</span>
<span class="c1">#             &#39;alpha&#39;: [[0.0, 1.0, 1.0], [1, 1, 1]],</span>
<span class="c1">#         })</span>
<span class="c1">#         segmentdata = args[1] if len(args) &gt;= 2 else segmentdata</span>
<span class="c1">#         super().__init__(name, segmentdata)</span>

<span class="c1">#     def FromColorsPositions(self, colors, positions):</span>
<span class="c1">#         if len(colors) != len(positions):</span>
<span class="c1">#             return</span>

<span class="c1">#         _segmentdata = {&#39;red&#39;: [], &#39;green&#39;: [], &#39;blue&#39;: [], &#39;alpha&#39;: []}</span>
<span class="c1">#         if 0 not in positions:</span>
<span class="c1">#             _segmentdata[&#39;red&#39;].append([0, 1, 1])</span>
<span class="c1">#             _segmentdata[&#39;blue&#39;].append([0, 1, 1])</span>
<span class="c1">#             _segmentdata[&#39;green&#39;].append([0, 1, 1])</span>
<span class="c1">#             _segmentdata[&#39;alpha&#39;].append([0, 0, 0])</span>

<span class="c1">#         for color, pos in zip(colors, positions):</span>
<span class="c1">#             red, green, blue, alpha = color</span>
<span class="c1">#             if pos not in [value[0] for value in _segmentdata[&#39;red&#39;]]:</span>
<span class="c1">#                 _segmentdata[&#39;red&#39;].append([pos, red, red])</span>
<span class="c1">#                 _segmentdata[&#39;blue&#39;].append([pos, blue, blue])</span>
<span class="c1">#                 _segmentdata[&#39;green&#39;].append([pos, green, green])</span>
<span class="c1">#                 _segmentdata[&#39;alpha&#39;].append([pos, alpha, alpha])</span>

<span class="c1">#         if 1 not in positions:</span>
<span class="c1">#             _segmentdata[&#39;red&#39;].append([1, 1, 1])</span>
<span class="c1">#             _segmentdata[&#39;blue&#39;].append([1, 1, 1])</span>
<span class="c1">#             _segmentdata[&#39;green&#39;].append([1, 1, 1])</span>
<span class="c1">#             _segmentdata[&#39;alpha&#39;].append([1, 0, 0])</span>

<span class="c1">#         self.name = &#39;custom&#39;</span>
<span class="c1">#         self._segmentdata = _segmentdata</span>

<span class="c1">#     def GetColorsPositions(self):</span>
<span class="c1">#         # todo</span>
<span class="c1">#         red = self._segmentdata[&#39;red&#39;]</span>
<span class="c1">#         blue = self._segmentdata[&#39;blue&#39;]</span>
<span class="c1">#         green = self._segmentdata[&#39;green&#39;]</span>
<span class="c1">#         alpha = self._segmentdata[&#39;alpha&#39;]</span>

<span class="c1">#         colors = []</span>
<span class="c1">#         positions = {0, 1}</span>
<span class="c1">#         positions |= set([v[0] for v in red])</span>
<span class="c1">#         positions |= set([v[0] for v in blue])</span>
<span class="c1">#         positions |= set([v[0] for v in green])</span>
<span class="c1">#         positions |= set([v[0] for v in alpha])</span>
<span class="c1">#         positions = list(positions)</span>

<span class="c1">#         def get_pos(pos, idx, list_):</span>
<span class="c1">#             while idx &lt; len(list_) and list_[idx][0] &lt; pos:</span>
<span class="c1">#                 idx += 1</span>

<span class="c1">#             return list_[idx][0], idx</span>

<span class="c1">#         r_i = 0</span>
<span class="c1">#         b_i = 0</span>
<span class="c1">#         g_i = 0</span>
<span class="c1">#         a_i = 0</span>
<span class="c1">#         for pos in positions:</span>
<span class="c1">#             r_p, r_i = get_pos(pos, r_i, red)</span>
<span class="c1">#             b_p, b_i = get_pos(pos, b_i, blue)</span>
<span class="c1">#             g_p, g_i = get_pos(pos, g_i, green)</span>
<span class="c1">#             a_p, a_i = get_pos(pos, a_i, alpha)</span>

<span class="c1">#             r_v = (red[r_i][1] if r_p == pos else InterpolateValue(pos, (red[r_i][0], red[r_i][2]), (red[r_i][0], red[r_i][1]))) * 255</span>
<span class="c1">#             b_v = (blue[b_i][1] if b_p == pos else InterpolateValue(pos, (blue[b_i][0], blue[b_i][2]), (blue[b_i][0], blue[b_i][1]))) * 255</span>
<span class="c1">#             g_v = (green[g_i][1] if g_p == pos else InterpolateValue(pos, (green[g_i][0], green[g_i][2]), (green[g_i][0], green[g_i][1]))) * 255</span>
<span class="c1">#             a_v = (alpha[a_i][1] if a_p == pos else InterpolateValue(pos, (alpha[a_i][0], alpha[a_i][2]), (alpha[a_i][0], alpha[a_i][1]))) * 255</span>

<span class="c1">#             colors.append([r_v, b_v, g_v, a_v])</span>

<span class="c1">#             r_v2 = (red[r_i][2] if r_p == pos else r_v) * 255</span>
<span class="c1">#             b_v2 = (blue[b_i][2] if b_p == pos else b_v) * 255</span>
<span class="c1">#             g_v2 = (green[g_i][2] if g_p == pos else g_v) * 255</span>
<span class="c1">#             a_v2 = (alpha[a_i][2] if a_p == pos else a_v) * 255</span>

<span class="c1">#             if any([p == pos and cl[pos][1] != cl[pos][2] for p, cl in zip([r_p, b_p, g_p, a_p], [red, blue, green, alpha])]):</span>
<span class="c1">#                 colors.append([r_v2, b_v2, g_v2, a_v2])</span>

<span class="c1">#         return colors, positions</span>

<span class="c1">#     def SendSaveData(self):</span>
<span class="c1">#         return (self.name, self._segmentdata,)</span>

<span class="c1">#     def ReceiveSaveData(self, save_data):</span>
<span class="c1">#         self.name, self._segmentdata = save_data</span>


<span class="k">def</span> <span class="nf">Container2Value</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ArgumentContainerBase</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span>


<span class="n">NEW_PROJECT_NAME</span> <span class="o">=</span> <span class="s1">&#39;New Project&#39;</span>
<span class="n">DEFAULT_ENCODE_FUNCTION</span> <span class="o">=</span> <span class="n">Text</span><span class="p">()</span>
<span class="n">DEFAULT_DECODE_FUNCTION</span> <span class="o">=</span> <span class="n">CSV</span><span class="p">()</span>
<span class="n">DEFAULT_MAPPING_FUNCTION</span> <span class="o">=</span> <span class="n">PeakMapping</span><span class="p">()</span>
<span class="n">DEFAULT_PEAK</span> <span class="o">=</span> <span class="n">Gaussian</span><span class="p">()</span>
<span class="n">DEFAULT_PEAK_TYPE</span> <span class="o">=</span> <span class="n">PeakType</span><span class="p">(</span><span class="n">DEFAULT_PEAK</span><span class="p">)</span>
<span class="n">DEFAULT_BUFFER_SIZE</span> <span class="o">=</span> <span class="n">IntContainer</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">DEFAULT_DIRECTION_CONTAINER</span> <span class="o">=</span> <span class="n">ChoiceContainer</span><span class="p">(</span><span class="s1">&#39;r2d&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r2d&#39;</span><span class="p">,</span> <span class="s1">&#39;r2u&#39;</span><span class="p">,</span> <span class="s1">&#39;l2d&#39;</span><span class="p">,</span> <span class="s1">&#39;l2u&#39;</span><span class="p">,</span> <span class="s1">&#39;u2r&#39;</span><span class="p">,</span> <span class="s1">&#39;u2l&#39;</span><span class="p">,</span> <span class="s1">&#39;d2r&#39;</span><span class="p">,</span> <span class="s1">&#39;d2l&#39;</span><span class="p">])</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ArgumentContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;BoundedArgumentContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;OptionalIntContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;IntContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;OptionalFloatContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;FloatContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;StrContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ChoiceContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;IterableArgumentContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ListArgumentContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;TupleArgumentContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;FunctionContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PeakFunctionContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Gaussian&#39;</span><span class="p">,</span>
    <span class="s1">&#39;SpectrumFunctionContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;EncodeFunctionContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Text&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PeakFunctionContainerList&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PeakType&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Spectrum&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Recipe&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Preset&#39;</span><span class="p">,</span>
    <span class="s1">&#39;SpectrumFunctionContainerAccessor&#39;</span><span class="p">,</span>
    <span class="s1">&#39;DataContainer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Project&#39;</span><span class="p">,</span>
    <span class="s1">&#39;DecodeFunctionContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;CSV&#39;</span><span class="p">,</span>
    <span class="s1">&#39;MappingFunctionContainerBase&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PeakMapping&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ryo Tandai.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>